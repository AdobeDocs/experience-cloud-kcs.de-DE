---
title: "Splunk-Protokolle werden nicht korrekt analysiert"
description: "Bei der Anzeige von Splunk erscheinen die Protokolle möglicherweise verkettet und werden aufgrund falscher benutzerdefinierter Protokollformate nicht korrekt analysiert."
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS, Splunk, AEM, Log Parsing, mehrzeilige Protokolle, Fluent Bit, Protokollformat, Stacktrace, Protokollkonfiguration"
resolution: Resolution
internal-notes: "E-001219186"
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/14/2024 7:43:09 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/14/2024 7:49:08 PM"
version-number: 3
article-number: KA-24176
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=aee3c02d-2a12-ef11-9f8a-6045bd026dc7"
source-git-commit: 0d07737d0c3e64aeb4dc0465c8e7ac4da19638d4
workflow-type: tm+mt
source-wordcount: '343'
ht-degree: 2%

---

# Splunk-Protokolle werden nicht korrekt analysiert


Bei der Verwendung von Splunk zur Protokollanalyse in Verbindung mit Adobe Experience Manager (AEM) kann es zu Problemen kommen, bei denen jede Zeile einer Stapelablaufverfolgung fälschlicherweise als einzelnes Ereignis analysiert wird. Dies würde dazu führen, dass die Protokolle (insbesondere die benutzerdefinierten Protokolle) verkettet erscheinen oder möglicherweise nicht richtig analysiert werden. In diesem Artikel werden die häufigen Symptome dieses Problems und die Schritte behandelt, die zur Korrektur des Protokolleintragsformats für eine ordnungsgemäße Analyse in Splunk erforderlich sind.

## Beschreibung {#description}


### Umgebung

Adobe Experience Manager as a Cloud Service

### Problem/Symptome

Bei der Integration von benutzerdefinierten Protokollen mit Splunk ist es wichtig, dass die Protokolle für die &quot;Fluent Bit&quot;-Technologie (der von Splunk verwendete Protokollprozessor) korrekt formatiert sind. Das erwartete Standardformat lautet:

`dd.MM.yyyy HH:mm:ss.SSS *LEVEL* [ logger]  message`

Wenn die Protokolle dieses Format nicht einhalten, insbesondere was die Kapselung der Protokollebene mit Sternchen und das genaue Zeitstempelformat anbelangt, kann Splunk jede Zeile eines mehrzeiligen Protokolleintrags, z. B. einen Stacktrace, fälschlicherweise als separate Ereignisse behandeln.


## Auflösung {#resolution}


Um das Problem mit der Protokollanalyse in Splunk zu beheben, sollten Kunden ihre benutzerdefinierte Protokollierungsimplementierung in AEM aktualisieren, um das erforderliche Format zu erreichen. Für diejenigen, die SLF4J mit Logback oder anderen Frameworks verwenden, sollte das Protokollmuster wie folgt konfiguriert werden:

`{0,date,dd.MM.yyyy HH:mm:ss.SSS} *{4}* [ {3}]  {5}`

Beachten Sie die Platzierung von Sternchen um den Platzhalter auf Protokollebene {4}. Diese geringfügige Diskrepanz kann sich auf den Parsing-Prozess auswirken und zu Analyse- und Anzeigeproblemen in Splunk führen.

Dieses Muster stellt sicher, dass die Protokolleinträge dem erwarteten Format entsprechen, wobei die Protokollebene von Sternchen umgeben ist und das Datum im *day-month-year* bestellen.

Umfassende Anweisungen zum Einrichten und Konfigurieren von Protokollierungsformaten in AEM as a Cloud Service finden Sie im Abschnitt [Protokollierungsdokumentation](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/developing/logging.html?lang=en).

Durch die Einhaltung des angegebenen Protokollformats können Kunden sicherstellen, dass Splunk mehrzeilige Protokolleinträge korrekt analysiert, was eine effektivere Überwachung und Analyse ermöglicht.
