---
title: "Splunk-Protokolle werden nicht korrekt analysiert"
description: "Erfahren Sie, wie Sie Splunk-Protokolle korrekt ohne falsche benutzerdefinierte Protokollformate in Adobe Experience Manager as a Cloud Service analysieren."
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS, Splunk, AEM, Log Parsing, mehrzeilige Protokolle, Fluent Bit, Protokollformat, Stacktrace, Protokollkonfiguration"
resolution: Resolution
internal-notes: "E-001219186"
bug: false
article-created-by: Zita Rodricks
article-created-date: "5/14/2024 3:14:06 PM"
article-published-by: Zita Rodricks
article-published-date: "5/16/2024 5:04:29 PM"
version-number: 2
article-number: KA-24176
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=91f29598-0412-ef11-9f8a-6045bd03c412"
source-git-commit: b92ce7d99ba558afc7bff2fd92c08bf1825d9158
workflow-type: tm+mt
source-wordcount: '346'
ht-degree: 3%

---

# Splunk-Protokolle werden nicht korrekt analysiert


In diesem Artikel werden die häufigen Symptome des Problems und die Schritte zur Korrektur des Protokolleintragsformats für eine ordnungsgemäße Analyse in Splunk behandelt.

## Beschreibung {#description}


### <b>Umgebung</b>

Adobe Experience Manager as a Cloud Service



### <b>Problem/Symptome</b>

Bei Verwendung von Splunk für die Protokollanalyse in Verbindung mit Adobe Experience Manager (AEM) wird jede Zeile einer Stapelablaufverfolgung fälschlicherweise als einzelnes Ereignis analysiert. Dadurch werden die Protokolle (insbesondere die benutzerdefinierten Protokolle) verkettet oder sie werden möglicherweise nicht korrekt analysiert.

Bei der Integration von benutzerdefinierten Protokollen mit Splunk ist es wichtig, dass die Protokolle für Fluent Bit, den von Splunk verwendeten Protokollprozessor, korrekt formatiert sind. Das erwartete Standardformat lautet:
<br><br>dd.MM.yyyy HH:mm:ss.SSS \*LEVEL\* `[` Logger`]`  message<br><br>
Wenn die Protokolle dieses Format nicht einhalten, insbesondere was die Kapselung der Protokollebene mit Sternchen und das genaue Zeitstempelformat betrifft, kann Splunk jede Zeile eines mehrzeiligen Protokolleintrags, z. B. einen Stacktrace, fälschlicherweise als separate Ereignisse behandeln.


## Auflösung {#resolution}


Um das Problem mit der Protokollanalyse in Splunk zu beheben, aktualisieren Sie die Implementierung der benutzerdefinierten Protokollierung in AEM, um das erforderliche Format zu verwenden. Für diejenigen, die SLF4J mit Logback oder anderen Frameworks verwenden, sollte das Protokollmuster wie folgt konfiguriert werden:
<br>{0,date,dd.MM.yyyy HH:mm:ss.SSS} \*{4}\* `[` {3}`]`  {5}<br>
<b>*Beachten Sie die Platzierung von Sternchen um den Platzhalter auf Protokollebene {4}. Diese geringfügige Diskrepanz kann sich auf den Parsing-Prozess auswirken und zu Analyse- und Anzeigeproblemen in Splunk führen.</b>*

Dieses Muster stellt sicher, dass die Protokolleinträge dem erwarteten Format entsprechen, wobei die Protokollebene von Sternchen umgeben ist und das Datum in der Tag-Monat-Jahres-Reihenfolge.

Umfassende Anweisungen zum Einrichten und Konfigurieren von Protokollierungsformaten in AEM as a Cloud Service finden Sie im Abschnitt [Protokollierungsdokumentation](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/developing/logging.html?lang=en).

Durch die Einhaltung des angegebenen Protokollformats können Kunden sicherstellen, dass Splunk mehrzeilige Protokolleinträge korrekt analysiert, was eine effektivere Überwachung und Analyse ermöglicht.
